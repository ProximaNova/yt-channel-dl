$ echo 5HdCTKsO5AE > s.txt
$ echo $IPFS_PATH; fdir=$(yt-dlp --get-filename --skip-download --restrict-filenames --windows-filenames -o "%(channel)s_%(channel_id)s" -- $(head -n1 s.txt)); if [ -f ${fdir}.partial ]; then sleep 9d; else mkdir ${fdir}.partial; fi; cd ${fdir}.partial; mv -n ../s.txt .; utc | tr -d \\n > 1stats1.txt; echo " overall start" >> 1stats1.txt; chan=$(pwd | sed "s/.partial$//g" | grep -o "........................$"); curl -sL "https://www.googleapis.com/youtube/v3/channels?key=$(cat ~/ytapikey1.txt)&part=id,snippet,contentDetails,statistics,topicDetails,status,brandingSettings,localizations&id=$chan" > 1chan1.json; chanp=$(jq ".items[].snippet.thumbnails.high.url" 1chan1.json | tr -d \"); chand=$(echo $chanp | sed "s/=.*/=s0/g"); curl -sL $chanp > 1pfp1.img.jpg; curl -sL $chand > 1pfp2.img.png; banc=$(curl -sL https://y.com.sb/channel/$chan | grep "=w2560-fcrop64=" | sed "s/\" alt=.*//g" | sed "s/.*\".ggpht/https:\/\/yt3.googleusercontent.com/g"); band=$(echo $banc | sed "s/=.*/=w0/g"); curl -sL $banc > 1banner1.img.jpg; curl -sL $band > 1banner2.img.png; utc | tr -d \\n >> 1stats1.txt; echo " metadata, profile picture, and banner downloaded" >> 1stats1.txt; cat s.txt | xargs -d "\n" sh -c 'for args do wget --spider --no-verbose "https://tpa.mares.workers.dev/?output=html&id=$args" -o temp.txt; cat temp.txt >> 1plist2.txt; done' _; rm temp.txt; grep -v '!!!\| 200 OK$' 1plist2.txt | sed "s/.*=//g" | sed "s/://g" > 1plist3.txt; ids=1plist3.txt; utc | tr -d \\n >> 1stats1.txt; echo " check other site done" >> 1stats1.txt; bash <(echo -n "ids=1plist3.txt;"; ipfs cat bafkreidih3jklvypuib2lisvi2du4lodhdjt5ebr36o7v52f6xmegltlty); utc | tr -d \\n >> 1stats1.txt; echo " videos, descriptions, thumbnails, info JSON with comments, and any subtitles downloaded" >> 1stats1.txt; cat $ids | xargs -d "\n" sh -c 'for args do fname=$(yt-dlp --restrict-filenames --windows-filenames --skip-download --get-filename -o "%(title)s-%(channel)s-%(upload_date)s-%(extractor)s-%(resolution)s-%(id)s.apimeta.txt" -- $args 2>>1error1.log.txt); curl -sL "https://www.googleapis.com/youtube/v3/videos?key=$(cat ~/ytapikey1.txt)&part=snippet,id,contentDetails,liveStreamingDetails,localizations,player,recordingDetails,statistics,status,topicDetails&id=$args" > $fname; done' _; utc | tr -d \\n >> 1stats1.txt; echo " video metadata downloaded" >> 1stats1.txt; curl -sL "https://www.googleapis.com/youtube/v3/channelSections?key=$(cat ~/ytapikey1.txt)&part=id,snippet,contentDetails&channelId=$chan" > 1_channel_sections_1.json; curl -sL "https://www.googleapis.com/youtube/v3/playlists?key=$(cat ~/ytapikey1.txt)&part=id,snippet,contentDetails,localizations,player,status&channelId=$chan&maxResults=50" > 1_channel_playlists_1.json; curl -sL "https://www.googleapis.com/youtube/v3/subscriptions?key=$(cat ~/ytapikey1.txt)&part=id,snippet,contentDetails,subscriberSnippet&channelId=$chan&maxResults=50" > 1_channel_subscriptions_1.json; if [ $(cat 1_channel_subscriptions_1.json | jq .pageInfo.totalResults) -gt 50 ]; then nextpagetoken=$(cat 1_channel_subscriptions_1.json | jq -r .nextPageToken); while [ ! "$nextpagetoken" = "null" ]; do echo $nextpagetoken; curl -sL "https://www.googleapis.com/youtube/v3/subscriptions?key=$(cat ~/ytapikey1.txt)&part=id,snippet,contentDetails,subscriberSnippet&channelId=$chan&maxResults=50&pageToken=$nextpagetoken" > temp.txt; cat temp.txt >> 1_channel_subscriptions_all_1.json; nextpagetoken=$(cat temp.txt | jq -r .nextPageToken); done; utc | tr -d \\n >> 1stats1.txt; echo " channel metadata such as playlists and subscriptions downloaded" >> 1stats1.txt; fi; utc | tr -d \\n >> 1stats1.txt; echo " overall done" >> 1stats1.txt; bash <(ipfs cat bafkreibmctj6wjeajcf2ce36efsatxicjfazuo63fow46wpmk3wstwfcxa); mv -n s.txt 1_set_1.txt; cd ..
